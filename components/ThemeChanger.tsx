import { useEffect, useState } from "react";
import { useTheme } from "next-themes";

import css from "../styles/Home.module.css";

export const ThemeChanger = () => {
  const [mounted, setMounted] = useState(false);
  const { theme, setTheme } = useTheme();

  // When mounted on client, now we can show the UI
  useEffect(() => setMounted(true), []);

  if (!mounted) return null;
  const moonSVG = (
    <svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
      <path d="M499.963 274.781C493.527 337.993 463.319 396.399 415.451 438.18C367.583 479.966 305.628 502.013 242.124 499.858C178.621 497.704 118.303 471.509 73.3822 426.573C28.4567 381.634 2.28076 321.31 0.141645 257.808C-1.99318 194.305 20.0691 132.364 61.8723 84.5079C103.675 36.6569 162.094 6.46666 225.308 0.0505594C229.18 -0.378736 232.821 1.9629 234.035 5.6626C235.249 9.36229 233.699 13.4055 230.327 15.3529C197.872 34.7021 172.098 63.4966 156.452 97.8859C140.805 132.28 136.032 170.628 142.769 207.805C149.509 244.982 167.438 279.216 194.161 305.93C220.884 332.643 255.128 350.56 292.309 357.284C329.491 364.013 367.84 359.228 402.232 343.57C436.62 327.912 465.406 302.128 484.745 269.669C486.736 266.399 490.717 264.935 494.35 266.133C497.984 267.331 500.31 270.875 499.966 274.688L499.963 274.781Z" />
    </svg>
  );
  const sunSVG = (
    <svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
      <path d="M153.097 151.075C179.366 124.807 214.997 110.047 252.152 110.047L252.155 110.051C289.29 110.095 324.899 124.866 351.163 151.122C377.427 177.377 392.199 212.98 392.24 250.114C392.24 287.261 377.478 322.886 351.206 349.154C324.937 375.421 289.305 390.181 252.152 390.181C214.999 390.181 179.368 375.421 153.097 349.154C126.825 322.888 112.067 287.261 112.067 250.114C112.067 212.967 126.825 177.342 153.097 151.075Z" />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M463.532 222.84L496.129 240.113L495.895 240.584C498.424 241.948 500 244.588 500 247.461C500 250.334 498.424 252.974 495.895 254.338L464.626 271.144C455.69 276.101 449.293 284.628 447.035 294.594H447.039C446.334 297.875 445.552 301.16 444.614 304.363C441.595 314.106 442.934 324.68 448.288 333.363H448.285L467.908 364.628C469.306 367.045 469.306 370.026 467.908 372.443C466.614 375.09 463.807 376.651 460.874 376.351L426.478 375.179C415.695 374.637 405.216 378.834 397.789 386.668H397.785C395.52 389.089 393.172 391.514 390.829 393.779C383.55 400.608 379.538 410.221 379.809 420.198L381.136 458.029C381.259 460.928 379.764 463.657 377.258 465.117C374.748 466.578 371.637 466.526 369.174 464.984H369.178L338.298 445.679C329.736 440.118 319.183 438.55 309.371 441.382L309.375 441.378L300.227 443.881C290.089 446.499 281.554 453.328 276.774 462.641H276.778L259.187 495.86C257.83 498.403 255.186 499.994 252.305 500.001C249.398 500.023 246.717 498.429 245.349 495.86L227.369 462.015C222.278 452.705 213.468 445.998 203.137 443.57C199.64 442.715 196.223 441.706 192.802 440.696L192.74 440.678C182.798 437.356 171.901 438.587 162.953 444.037L130.823 464.124C128.375 465.659 125.283 465.714 122.78 464.276C120.277 462.837 118.772 460.135 118.864 457.247L120.27 416.68C120.685 406.94 117.099 397.453 110.343 390.42H110.34C108.623 388.777 106.902 386.901 105.26 385.103C98.4258 377.922 88.8222 374.048 78.9177 374.474V374.478L39.2825 375.883C36.3938 375.979 33.6907 374.474 32.2445 371.972C30.8502 369.554 30.8502 366.574 32.2445 364.156L54.6821 328.279C59.725 320.308 61.2528 310.606 58.9055 301.471H58.9019L57.808 297.014C55.3712 286.482 48.5452 277.491 39.0488 272.316L4.10474 253.948C1.57593 252.584 0 249.944 0 247.071C0 244.198 1.57581 241.558 4.10474 240.194L41.2368 220.496C50.2803 215.542 56.8546 207.045 59.3723 197.046C59.6282 196.531 59.7839 195.975 59.8433 195.404C63.0989 184.994 61.7047 173.682 56.0128 164.376H56.0092L34.6698 130.298C33.2719 127.877 33.2719 124.9 34.6698 122.482C36.1123 119.98 38.8192 118.475 41.704 118.571V118.575L83.2928 119.98C93.5894 120.195 103.516 116.15 110.732 108.802L112.608 106.926C120.377 99.6865 124.701 89.4835 124.493 78.8687H124.489L123.084 39.084C123.021 36.2106 124.538 33.5339 127.037 32.1139C129.532 30.6939 132.61 30.7606 135.046 32.2807L169.13 53.5427C177.511 58.9556 187.8 60.5498 197.426 57.9175L197.43 57.9212L198.68 57.5319L204.464 56.0452C214.276 53.5472 222.552 46.9772 227.213 37.9865L245.115 4.14512C246.484 1.57587 249.161 -0.0183645 252.072 0.000159697C254.986 0.0408854 257.641 1.69813 258.95 4.30077L276.93 38.146C282.036 47.3965 290.805 54.0662 301.087 56.5131H301.71C311.66 59.3086 322.32 57.8034 331.104 52.3719L364.721 31.1878C367.139 29.7937 370.12 29.7937 372.538 31.1878C375.041 32.6301 376.542 35.3364 376.446 38.2246L375.196 74.7244C374.477 85.2055 378.459 95.4599 386.061 102.708C388.402 104.816 390.67 107.005 392.934 109.191L392.939 109.196C399.81 116.244 409.288 120.148 419.129 119.981V119.977L458.215 118.572C461.104 118.475 463.811 119.981 465.253 122.483C466.648 124.901 466.648 127.878 465.253 130.299H465.25L446.88 159.766C441.069 168.667 439.493 179.685 442.582 189.859C443.598 192.829 444.536 196.191 445.396 199.395C447.895 209.401 454.473 217.906 463.532 222.84ZM142.038 360.216C171.243 389.413 210.851 405.818 252.152 405.818L252.149 405.821C293.444 405.799 333.042 389.39 362.243 360.197C391.441 330.998 407.856 291.406 407.874 250.12C407.874 208.826 391.47 169.223 362.265 140.023C333.061 110.827 293.452 94.4213 252.152 94.4213C210.851 94.4213 171.243 110.827 142.038 140.023C112.837 169.223 96.429 208.826 96.429 250.12C96.429 291.414 112.837 331.016 142.038 360.216Z"
      />
    </svg>
  );

  const nextTheme = theme === "light" ? moonSVG : sunSVG;
  const toggleTheme = () => setTheme(theme === "light" ? "dark" : "light");

  return (
    <div className={css["theme-changer"]}>
      <button className={css["button"]} onClick={toggleTheme}>
        {nextTheme}
      </button>
    </div>
  );
};
